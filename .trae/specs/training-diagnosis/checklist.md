# 训练诊断检查清单

## 奖励函数检查

- [x] 势能奖励已实现，提供稠密的过程指导
- [x] 奖励尺度统一，所有奖励项在合理范围内
- [x] 负奖励比例降低，更多正向激励
- [x] 奖励裁剪已添加，防止极端值
- [x] 成功奖励增大到50.0
- [x] 时间惩罚降低到-0.005

## 观测空间检查

- [x] 所有观测已相对化/归一化
- [x] 羊群形状特征值 (λ1, λ2) 已添加
- [x] 羊群主方向相对于目标方向
- [x] 机械狗站位统计信息已添加
- [x] 观测维度已更新（8→12维）
- [x] 无绝对位置信息

## 动作空间检查

- [x] κ约束已添加 (log_kappa clamp)
- [x] κ范围: [0.5, 5.0]
- [x] 角度已相对化（以目标方向为参考）
- [x] HighLevelAction类已更新

## 课程学习检查

- [x] CurriculumSheepFlockEnv已实现
- [x] 阶段1: 3羊2狗, 30×30世界
- [x] 阶段2: 5羊2狗, 40×40世界
- [x] 阶段3: 6羊3狗, 30×30世界
- [x] 阶段切换逻辑正确实现

## 网络架构检查

- [x] 隐藏层增大到256
- [x] 网络层数增加到3层
- [x] LayerNorm已添加
- [x] Dropout已添加
- [x] 正交初始化正确应用

## 超参数检查

- [x] 学习率降低到3e-4
- [x] PPO epoch减少到10
- [x] mini-batch增加到4
- [x] 梯度裁剪降低到0.5
- [x] episode_length增加到150

## 奖励归一化检查

- [x] RunningMeanStd类已实现
- [x] 奖励归一化在训练中应用
- [x] 归一化参数正确更新

## 训练效果检查

- [ ] 奖励波动降低（目标: 0~+50） - 待验证
- [ ] 有明显收敛趋势 - 待验证
- [ ] 1000 episodes内看到学习进度 - 待验证
- [ ] 最终成功率 > 60% - 待验证
- [ ] 负奖励比例 < 20% - 待验证
